<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>åœ¨æ ‘è“æ´¾ä¸Šå®‰è£…Python3+OpenCV3 - å­å®</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="å­å®"><meta name="msapplication-TileImage" content="/img/avatar-o.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="å­å®"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="åœ¨æ ‘è“æ´¾ä¸Šæ„å»ºå¹¶ç¼–è¯‘OpenCV3"><meta property="og:type" content="article"><meta property="og:title" content="åœ¨æ ‘è“æ´¾ä¸Šå®‰è£…Python3+OpenCV3"><meta property="og:url" content="https://zlotus.github.io/2018/10/01/rbp3-opencv3/"><meta property="og:site_name" content="å­å®"><meta property="og:description" content="åœ¨æ ‘è“æ´¾ä¸Šæ„å»ºå¹¶ç¼–è¯‘OpenCV3"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://raw.githubusercontent.com/zlotus/imagebed/master/2018/OpenCV_compile.png"><meta property="article:published_time" content="2018-10-01T04:06:10.000Z"><meta property="article:modified_time" content="2018-10-01T04:06:10.000Z"><meta property="article:author" content="å­å®"><meta property="article:tag" content="Python"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Raspberry Pi"><meta property="article:tag" content="OpenCV"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://raw.githubusercontent.com/zlotus/imagebed/master/2018/OpenCV_compile.png"><meta property="twitter:creator" content="@Zealot_uS"><meta property="twitter:site" content="Zealot_uS"><link rel="publisher" href="+LotusQin"><meta property="fb:admins" content="qinzishi"><meta property="fb:app_id" content="qinzishi"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://zlotus.github.io/2018/10/01/rbp3-opencv3/"},"headline":"åœ¨æ ‘è“æ´¾ä¸Šå®‰è£…Python3+OpenCV3","image":["https://raw.githubusercontent.com/zlotus/imagebed/master/2018/OpenCV_compile.png"],"datePublished":"2018-10-01T04:06:10.000Z","dateModified":"2018-10-01T04:06:10.000Z","author":{"@type":"Person","name":"å­å®"},"publisher":{"@type":"Organization","name":"å­å®","logo":{"@type":"ImageObject","url":"https://zlotus.github.io/img/opm_sq.png"}},"description":"åœ¨æ ‘è“æ´¾ä¸Šæ„å»ºå¹¶ç¼–è¯‘OpenCV3"}</script><link rel="icon" href="/img/avatar-o.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css"><!--!--><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/opm_sq.png" alt="å­å®" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/2014/07/09/about-me/">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/zlotus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="æœç´¢" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-9-tablet is-9-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-10-01T04:06:10.000Z" title="10/1/2018, 12:06:10 PM">2018-10-01</time>å‘è¡¨</span><span class="level-item"><time dateTime="2018-10-01T04:06:10.000Z" title="10/1/2018, 12:06:10 PM">2018-10-01</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a></span><span class="level-item">12 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦1735ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile">åœ¨æ ‘è“æ´¾ä¸Šå®‰è£…Python3+OpenCV3</h1><div class="content"><p>æœ€è¿‘ç»™æ ‘è“æ´¾ä¹°äº†ä¸€äº›ä¼ æ„Ÿå™¨ï¼Œæ„Ÿè§‰èƒ½åšçš„äº‹æ›´å¤šäº†ï¼Œé‚£å°±å…ˆæŠ„ä¸€ä¸ªæœºå™¨è§†è§‰çš„ç©å…·ç»ƒç»ƒæ‰‹å§~å½“ç„¶ï¼Œæ€ä¹ˆèƒ½å°‘äº†OpenCVå‘¢[å¥¸ç¬‘]</p>
<span id="more"></span>

<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://www.pyimagesearch.com/2017/09/04/raspbian-stretch-install-opencv-3-python-on-your-raspberry-pi/">Raspbian Stretch: Install OpenCV 3 + Python on your Raspberry Pi</a></p>
<h1 id="1-æ‰©å±•å­˜å‚¨å¡ç©ºé—´"><a href="#1-æ‰©å±•å­˜å‚¨å¡ç©ºé—´" class="headerlink" title="1 æ‰©å±•å­˜å‚¨å¡ç©ºé—´"></a>1 æ‰©å±•å­˜å‚¨å¡ç©ºé—´</h1><p>è¿è¡Œæ ‘è“æ´¾é…ç½®<code>sudo raspi-config</code>ï¼Œé€‰æ‹©â€Advanced Optionsâ€ï¼Œé€‰æ‹©â€Expand filesystemâ€ï¼ŒæŒ‰æç¤ºé‡å¯ã€‚</p>
<p>ä½¿ç”¨<code>df -h</code>æ£€æŸ¥å­˜å‚¨ç©ºé—´ã€‚</p>
<p>å½“ç„¶ï¼Œå¦‚æœç©ºé—´ä»ç„¶ä¸å¤Ÿç”¨ï¼Œå¯ä»¥åˆ ç‚¹ä¸œè¥¿ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get purge wolfram-engine</span><br><span class="line">sudo apt-get purge libreoffice*</span><br><span class="line">sudo apt-get clean</span><br><span class="line">sudo apt-get autoremove</span><br></pre></td></tr></table></figure>

<h1 id="2-å®‰è£…ä¾èµ–"><a href="#2-å®‰è£…ä¾èµ–" class="headerlink" title="2 å®‰è£…ä¾èµ–"></a>2 å®‰è£…ä¾èµ–</h1><h2 id="2-1-æ›´æ–°ç³»ç»Ÿ"><a href="#2-1-æ›´æ–°ç³»ç»Ÿ" class="headerlink" title="2.1 æ›´æ–°ç³»ç»Ÿ"></a>2.1 æ›´æ–°ç³»ç»Ÿ</h2><p>å½“ç„¶ï¼Œå®‰è£…ä¾èµ–å‰å…ˆå°†ç³»ç»Ÿæ›´æ–°è‡³æœ€æ–°ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update &amp;&amp; time sudo apt-get upgrade &amp;&amp; time sudo apt-get dist-upgrade</span><br></pre></td></tr></table></figure>
<h2 id="2-2-å®‰è£…ç¼–è¯‘-å¼€å‘å·¥å…·"><a href="#2-2-å®‰è£…ç¼–è¯‘-å¼€å‘å·¥å…·" class="headerlink" title="2.2 å®‰è£…ç¼–è¯‘/å¼€å‘å·¥å…·"></a>2.2 å®‰è£…ç¼–è¯‘/å¼€å‘å·¥å…·</h2><p>å®‰è£…åŒ…æ‹¬<code>cmake</code>åœ¨å†…çš„å¼€å‘å·¥å…·ï¼Œå¸®åŠ©æˆ‘ä»¬é…ç½®å¹¶ç¼–è¯‘<code>opencv</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install build-essential cmake pkg-config</span><br></pre></td></tr></table></figure>

<h2 id="2-3-å›¾ç‰‡ç›¸å…³ä¾èµ–"><a href="#2-3-å›¾ç‰‡ç›¸å…³ä¾èµ–" class="headerlink" title="2.3 å›¾ç‰‡ç›¸å…³ä¾èµ–"></a>2.3 å›¾ç‰‡ç›¸å…³ä¾èµ–</h2><p>å®‰è£…å›¾ç‰‡I/Oç›¸å…³åŒ…ï¼ŒåŒ…æ‹¬å¸¸è§çš„JPEGã€PNGã€TIFFç­‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libjpeg-dev libtiff5-dev libjasper-dev libpng12-dev</span><br></pre></td></tr></table></figure>

<h2 id="2-4-è§†é¢‘ç›¸å…³ä¾èµ–"><a href="#2-4-è§†é¢‘ç›¸å…³ä¾èµ–" class="headerlink" title="2.4 è§†é¢‘ç›¸å…³ä¾èµ–"></a>2.4 è§†é¢‘ç›¸å…³ä¾èµ–</h2><p>å®‰è£…è¯»å–è§†é¢‘ã€å¤„ç†è§†é¢‘æµçš„ç›¸å…³ä¾èµ–ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev libv4l-dev</span><br><span class="line">sudo apt-get install libxvidcore-dev libx264-dev</span><br></pre></td></tr></table></figure>

<h2 id="2-5-highguiç›¸å…³ä¾èµ–"><a href="#2-5-highguiç›¸å…³ä¾èµ–" class="headerlink" title="2.5 highguiç›¸å…³ä¾èµ–"></a>2.5 <code>highgui</code>ç›¸å…³ä¾èµ–</h2><p>å®‰è£…OpenCVæ—¶ä¼šé™„å¸¦ä¸€ä¸ªå«åš<code>highgui</code>çš„å­æ¨¡å—ï¼Œè¯¥æ¨¡å—ä½¿ç”¨GUIç•Œé¢æ˜¾ç¤ºå›¾ç‰‡ï¼Œè¦ä½¿å¾—è¯¥æ¨¡å—èƒ½å¤Ÿæ­£å¸¸ç¼–è¯‘ï¼Œéœ€è¦å®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libgtk2.0-dev libgtk-3-dev</span><br></pre></td></tr></table></figure>

<h2 id="2-6-ä¼˜åŒ–ç›¸å…³ä¾èµ–"><a href="#2-6-ä¼˜åŒ–ç›¸å…³ä¾èµ–" class="headerlink" title="2.6 ä¼˜åŒ–ç›¸å…³ä¾èµ–"></a>2.6 ä¼˜åŒ–ç›¸å…³ä¾èµ–</h2><p>é€šè¿‡å®‰è£…ä¸€äº›ä¾èµ–å¯ä»¥ä¼˜åŒ–OpenCVå†…éƒ¨çš„çŸ©é˜µè¿ç®—è¿‡ç¨‹ï¼Œè¿™äº›ä¼˜åŒ–ä¾èµ–å¯¹åƒæ ‘è“æ´¾è¿™æ ·è®¡ç®—èµ„æºå—é™çš„è®¾å¤‡æ¥è¯´å°¤ä¸ºé‡è¦ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libatlas-base-dev gfortran</span><br></pre></td></tr></table></figure>

<h2 id="2-7-Pythonå¤´æ–‡ä»¶"><a href="#2-7-Pythonå¤´æ–‡ä»¶" class="headerlink" title="2.7 Pythonå¤´æ–‡ä»¶"></a>2.7 Pythonå¤´æ–‡ä»¶</h2><p>ä¸ºäº†é€šè¿‡Pythonä½¿ç”¨OpenCVåº“ï¼Œåœ¨ç¼–è¯‘æ—¶éœ€è¦Pythonå¤´æ–‡ä»¶ç­‰èµ„æºï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python2.7-dev python3-dev</span><br></pre></td></tr></table></figure>

<h1 id="3-ä¸‹è½½OpenCVæºç "><a href="#3-ä¸‹è½½OpenCVæºç " class="headerlink" title="3 ä¸‹è½½OpenCVæºç "></a>3 ä¸‹è½½OpenCVæºç </h1><h2 id="3-1-OpenCV"><a href="#3-1-OpenCV" class="headerlink" title="3.1 OpenCV"></a>3.1 OpenCV</h2><p>æˆ‘ä»¬ä»<a target="_blank" rel="noopener" href="https://github.com/opencv/opencv">OpenCVå®˜ç½‘</a>ä¸‹è½½<a target="_blank" rel="noopener" href="https://opencv.org/releases.html">æœ€æ–°ç‰ˆæºç </a>ï¼ˆç‰ˆæœ¬3.4.3ï¼‰ï¼Œè¯¥ç‰ˆæœ¬å¸¦æœ‰æ·±åº¦ç¥ç»ç½‘ç»œæ¨¡å—ï¼Œæ¨èä»æœ¬æœºä¸‹è½½å¹¶ä¸Šä¼ æ ‘è“æ´¾ï¼Œå› ä¸ºæœ¬æœºè¿…é›·ä¸‹å™¨æ¯”è¾ƒå¿«ğŸ¤¦â€ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp ./Downloads/cv_3.4.3.zip pi@192.168.1.108:./</span><br><span class="line">unzip cv_3.4.3.zip</span><br></pre></td></tr></table></figure>

<h2 id="3-2-OpenCVé«˜çº§åŠŸèƒ½"><a href="#3-2-OpenCVé«˜çº§åŠŸèƒ½" class="headerlink" title="3.2 OpenCVé«˜çº§åŠŸèƒ½"></a>3.2 OpenCVé«˜çº§åŠŸèƒ½</h2><p>æˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿä½¿ç”¨OpenCVçš„æ‰€æœ‰åŠŸèƒ½ï¼ˆåŒ…æ‹¬å¦‚SIFTã€SURFåœ¨å†…çš„é«˜çº§åŠŸèƒ½ï¼‰ï¼Œéœ€è¦ä¸‹è½½ç›¸åº”ç‰ˆæœ¬çš„<a target="_blank" rel="noopener" href="https://github.com/opencv/opencv_contrib/releases">opencv_contrib</a>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp ./Downloads/cv_c_3.4.3.zip pi@192.168.1.108:./</span><br><span class="line">unzip cv_c_3.4.3.zip</span><br></pre></td></tr></table></figure>

<h1 id="4-Pythonç‰ˆæœ¬æ§åˆ¶"><a href="#4-Pythonç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="4 Pythonç‰ˆæœ¬æ§åˆ¶"></a>4 Pythonç‰ˆæœ¬æ§åˆ¶</h1><p>æˆ‘ä¹ æƒ¯ä½¿ç”¨<code>conda</code>ï¼Œå› æ­¤ä¸‹äº†ä¸ª<a target="_blank" rel="noopener" href="https://github.com/jjhelmus/berryconda">berryconda</a>ï¼Œä¸Šä¼ æ ‘è“æ´¾ï¼ˆè¿˜æ˜¯å› ä¸ºè¿…é›·æ›´å¿«ğŸ¤¦â€ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp ./Downloads/Berryconda3-2.0.0-Linux-armv7l.sh pi@192.168.1.108:./</span><br></pre></td></tr></table></figure>
<p>å¹¶å®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x Berryconda3-2.0.0-Linux-armv7l.sh</span><br><span class="line">./Berryconda3-2.0.0-Linux-armv7l.sh</span><br></pre></td></tr></table></figure>
<p>å®‰è£…å®Œæˆä¹‹åæ›´æ–°<code>conda</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda update --all</span><br></pre></td></tr></table></figure>
<p>æ–°å»ºåå«<code>cv</code>çš„ç¯å¢ƒï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create -n cv python=3.5.3</span><br></pre></td></tr></table></figure>
<p>æ¿€æ´»ç¯å¢ƒï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> activate cv</span><br><span class="line"><span class="comment"># é€€å‡ºç¯å¢ƒ</span></span><br><span class="line"><span class="comment">#source deactivate</span></span><br></pre></td></tr></table></figure>
<p>å®‰è£…Numpyï¼Œéœ€è¦æ¯”è¾ƒé•¿çš„æ—¶é—´ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install numpy</span><br></pre></td></tr></table></figure>
<p>å…³äºåŸæ–‡ä½¿ç”¨<code>pip</code>è€Œè¿™é‡Œä½¿ç”¨<code>conda</code>çš„å‚è€ƒ<a target="_blank" rel="noopener" href="https://github.com/numpy/numpy/issues/8415#issuecomment-269103493">åŸå› </a>ï¼ˆç¼–è¯‘é€‰é¡¹é—®é¢˜å¯¼è‡´condaå®‰è£…çš„Pythonä¸pipå®‰è£…çš„Numpyä¸å…¼å®¹ï¼‰ã€‚</p>
<h1 id="5-å…¶ä»–è½¯ä»¶åŒ…"><a href="#5-å…¶ä»–è½¯ä»¶åŒ…" class="headerlink" title="5 å…¶ä»–è½¯ä»¶åŒ…"></a>5 å…¶ä»–è½¯ä»¶åŒ…</h1><p>å› ä¸ºä¸ªäººçˆ±å¥½å’Œä¹ æƒ¯ï¼Œæˆ‘åˆå®‰è£…äº†TensorFlowä»¥åŠtesseractï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libatlas-base-dev</span><br><span class="line">pip install tensorflow</span><br><span class="line">sudo apt-get install tesseract-ocr</span><br><span class="line">pip install pytesseract</span><br></pre></td></tr></table></figure>

<h1 id="6-æ„å»º"><a href="#6-æ„å»º" class="headerlink" title="6 æ„å»º"></a>6 æ„å»º</h1><h2 id="6-1-è§£å‹å¹¶æ„å»º"><a href="#6-1-è§£å‹å¹¶æ„å»º" class="headerlink" title="6.1 è§£å‹å¹¶æ„å»º"></a>6.1 è§£å‹å¹¶æ„å»º</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/opencv-3.4.3/</span><br><span class="line">mkdir build</span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">cmake -D CMAKE_BUILD_TYPE=RELEASE \</span><br><span class="line">    -D CMAKE_INSTALL_PREFIX=/usr/<span class="built_in">local</span> \</span><br><span class="line">    -D INSTALL_PYTHON_EXAMPLES=ON \</span><br><span class="line">    -D OPENCV_EXTRA_MODULES_PATH=~/opencv_contrib-3.4.3/modules \</span><br><span class="line">    -D BUILD_EXAMPLES=ON ..</span><br></pre></td></tr></table></figure>
<h2 id="6-2-æ£€æŸ¥æ„å»ºè¾“å‡º"><a href="#6-2-æ£€æŸ¥æ„å»ºè¾“å‡º" class="headerlink" title="6.2 æ£€æŸ¥æ„å»ºè¾“å‡º"></a>6.2 æ£€æŸ¥æ„å»ºè¾“å‡º</h2><p>åŠ¡å¿…æ£€æŸ¥CMakeæ„å»ºè¾“å‡ºä¸­Pythonè§£é‡Šå™¨/åº“ç­‰ä¿¡æ¯ï¼Œæ­£å¸¸æ„å»ºå®Œæˆçš„ä¿¡æ¯åº”åŒ…å«ç±»ä¼¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">--   Python 3:</span><br><span class="line">--     Interpreter:                 /home/pi/berryconda3/envs/cv/bin/python3 (ver 3.5.3)</span><br><span class="line">--     Libraries:                   /usr/lib/arm-linux-gnueabihf/libpython3.5m.so (ver 3.5.3)</span><br><span class="line">--     numpy:                       /home/pi/berryconda3/envs/cv/lib/python3.5/site-packages/numpy/core/include (ver 1.15.1)</span><br><span class="line">--     packages path:               lib/python3.5/site-packages</span><br><span class="line">--</span><br></pre></td></tr></table></figure>

<h2 id="6-3-ä¿®æ”¹SWAPé…ç½®"><a href="#6-3-ä¿®æ”¹SWAPé…ç½®" class="headerlink" title="6.3 ä¿®æ”¹SWAPé…ç½®"></a>6.3 ä¿®æ”¹SWAPé…ç½®</h2><p>åœ¨å¼€å§‹ç¼–è¯‘å‰ï¼Œå…ˆè°ƒæ•´ä¸€ä¸‹è™šæ‹Ÿå†…å­˜å¤§å°ï¼Œä½¿å¾—ç¼–è¯‘è¿‡ç¨‹èƒ½å¤Ÿåˆ©ç”¨æ ‘è“æ´¾çš„å…¨éƒ¨å››é¢—æ ¸å¿ƒï¼Œé¿å…ç¼–è¯‘è¿‡ç¨‹å› ä¸ºå†…å­˜ä¸è¶³è€ŒæŒ‚èµ·ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/dphys-swapfile</span><br><span class="line"><span class="comment"># dphys-swapfile:</span></span><br><span class="line"><span class="comment"># CONF_SWAPSIZE=100</span></span><br><span class="line">CONF_SWAPSIZE=1024</span><br></pre></td></tr></table></figure>
<p>å†é‡å¯è™šæ‹Ÿå†…å­˜æœåŠ¡ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo /etc/init.d/dphys-swapfile stop</span><br><span class="line">sudo /etc/init.d/dphys-swapfile start</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„</strong>ï¼šåœ¨å®Œæˆæ‰€æœ‰ç¼–è¯‘ã€å®‰è£…ï¼Œä¸”è¯•éªŒæˆåŠŸåï¼Œè®°å¾—å§è™šæ‹Ÿå†…å­˜æ”¹å›å»ï¼Œå¦åˆ™æ®è¯´å®¹æ˜“çƒ§å¡ã€‚</p>
<h1 id="7-ç¼–è¯‘"><a href="#7-ç¼–è¯‘" class="headerlink" title="7 ç¼–è¯‘"></a>7 ç¼–è¯‘</h1><p>ç»ˆäºå¯ä»¥å¼€å§‹ç¼–è¯‘äº†ï¼Œå¤§çº¦éœ€è¦ä¸€ä¸ªåŠå°æ—¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make -j4</span><br></pre></td></tr></table></figure>
<p>ç¼–è¯‘æ—¶æ ‘è“æ´¾ä¼šå¯ç”¨å…¨éƒ¨å››é¢—æ ¸å¿ƒï¼Œå› æ­¤å¼ºçƒˆå»ºè®®å¼€å¯æ•£çƒ­é£æ‰‡ï¼Œç¼–è¯‘æ—¶çš„<code>top</code> CPUåˆ©ç”¨ç‡ï¼š<br><img src="https://raw.githubusercontent.com/zlotus/imagebed/master/2018/OpenCV_compile.png" alt="ç¼–è¯‘ä¸­çš„CPUåˆ©ç”¨ç‡"></p>
<h1 id="8-å®‰è£…"><a href="#8-å®‰è£…" class="headerlink" title="8 å®‰è£…"></a>8 å®‰è£…</h1><p>å°†ç¼–è¯‘å®Œæˆçš„OpenCVå®‰è£…åœ¨ç³»ç»Ÿä¸­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo make install</span><br><span class="line">sudo ldconfig</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶OpenCVåŠPythonæ”¯æŒå·²ç»å®‰è£…å†<code>/usr/local/lib/python3.5/site-packages</code>ç›®å½•ä¸‹äº†ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ls -l /usr/<span class="built_in">local</span>/lib/python3.5/site-packages/</span><br><span class="line">æ€»ç”¨é‡ 4628</span><br><span class="line">-rw-r--r-- 1 root staff 4738076 9æœˆ  28 23:16 cv2.cpython-35m-arm-linux-gnueabihf.so</span><br></pre></td></tr></table></figure>
<p>å‡ºäºæŸç§åŸå› ï¼Œç¼–è¯‘å®Œæˆçš„çš„<code>.so</code>æ–‡ä»¶å«åš<code>cv2.cpython-35m-arm-linux-gnueabihf.so</code>ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶é‡å‘½åï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/lib/python3.5/site-packages/</span><br><span class="line">sudo mv cv2.cpython-35m-arm-linux-gnueabihf.so cv2.so</span><br></pre></td></tr></table></figure>
<p>ä¹‹åå†å°†å…¶é“¾æ¥åœ¨condaçš„<code>cv</code>ç¯å¢ƒä¸­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/berryconda3/envs/cv/lib/python3.5/site-packages/</span><br><span class="line">ln -s /usr/<span class="built_in">local</span>/lib/python3.5/site-packages/cv2.so cv2.so</span><br></pre></td></tr></table></figure>

<h1 id="9-æµ‹è¯•"><a href="#9-æµ‹è¯•" class="headerlink" title="9 æµ‹è¯•"></a>9 æµ‹è¯•</h1><p>åœ¨<code>cv</code>ç¯å¢ƒä¸­æµ‹è¯•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> activate cv</span><br><span class="line">python</span><br><span class="line">&gt;&gt;&gt; import cv2</span><br><span class="line">&gt;&gt;&gt; cv2.__version__</span><br><span class="line"><span class="string">&#x27;3.4.3&#x27;</span></span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>

<h1 id="10-ä¸€äº›é—®é¢˜"><a href="#10-ä¸€äº›é—®é¢˜" class="headerlink" title="10 ä¸€äº›é—®é¢˜"></a>10 ä¸€äº›é—®é¢˜</h1><p>ä¸€å¼€å§‹æˆ‘ä½¿ç”¨python 3.6.6ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create -n cv python=3.6</span><br></pre></td></tr></table></figure>
<p>ç„¶åç¼–è¯‘ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/opencv-3.4.3/</span><br><span class="line">mkdir build</span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">cmake -D CMAKE_BUILD_TYPE=RELEASE \</span><br><span class="line">    -D CMAKE_INSTALL_PREFIX=/usr/<span class="built_in">local</span> \</span><br><span class="line">    -D INSTALL_PYTHON_EXAMPLES=ON \</span><br><span class="line">    -D OPENCV_EXTRA_MODULES_PATH=~/opencv_contrib-3.4.3/modules \</span><br><span class="line">    -D BUILD_EXAMPLES=ON ..</span><br></pre></td></tr></table></figure>
<p>æŠ¥é”™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-- Found PythonInterp: /usr/bin/python2.7 (found suitable version <span class="string">&quot;2.7.13&quot;</span>, minimum required is <span class="string">&quot;2.7&quot;</span>)</span><br><span class="line">-- Found PythonLibs: /usr/lib/arm-linux-gnueabihf/libpython2.7.so (found suitable exact version <span class="string">&quot;2.7.13&quot;</span>)</span><br><span class="line">-- Found PythonInterp: /home/pi/berryconda3/envs/cv/bin/python3 (found suitable version <span class="string">&quot;3.6.6&quot;</span>, minimum required is <span class="string">&quot;3.4&quot;</span>)</span><br><span class="line">-- Could NOT find PythonLibs (missing:  PYTHON_LIBRARIES PYTHON_INCLUDE_DIRS) (Required is exact version <span class="string">&quot;3.6.6&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>å³æ ‘è“æ´¾ä¸Šè¿˜æ²¡æœ‰python3.6-devï¼Œä»…æœ‰python3.5-devï¼ˆå³python 3.5.3-0ç‰ˆæœ¬ï¼‰ï¼Œäºæ˜¯æˆ‘æ‰“ç®—ç”¨<code>cmake -D</code>æŒ‡å®šï¼Œæˆ–æ˜¯exportç¯å¢ƒå˜é‡ï¼Œå‘ç°æŠ¥é”™ä¾ç„¶å­˜åœ¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/opencv-3.4.3/</span><br><span class="line">mkdir build</span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">cmake -D CMAKE_BUILD_TYPE=RELEASE \</span><br><span class="line">    -D CMAKE_INSTALL_PREFIX=/usr/<span class="built_in">local</span> \</span><br><span class="line">    -D INSTALL_PYTHON_EXAMPLES=ON \</span><br><span class="line">    -D OPENCV_EXTRA_MODULES_PATH=~/opencv_contrib-3.4.3/modules \</span><br><span class="line">    -D PYTHON_INCLUDE_DIR=$(python -c <span class="string">&quot;from distutils.sysconfig import get_python_inc; print(get_python_inc())&quot;</span>)  \</span><br><span class="line">    -D PYTHON_LIBRARY=$(python -c <span class="string">&quot;import distutils.sysconfig as sysconfig; print(sysconfig.get_config_var(&#x27;LIBDIR&#x27;))&quot;</span>) \</span><br><span class="line">    -D BUILD_EXAMPLES=ON ..</span><br></pre></td></tr></table></figure>
<p>å‚è€ƒ<a target="_blank" rel="noopener" href="https://github.com/opencv/opencv/issues/8174">CMake cannot find PythonLibs #8174</a>çš„è¯´æ˜æƒ³ä¿®æ”¹cmakeæ–‡ä»¶ä¹Ÿä¸æˆåŠŸã€‚</p>
<p>é€šè¿‡<a target="_blank" rel="noopener" href="https://packages.debian.org/search?keywords=python3.6-dev">Debianè½¯ä»¶åŒ…æœç´¢</a>å¯çŸ¥è¿™ä¸ªåŒ…åœ¨æ–°ç‰ˆçš„busterä¸­æ‰æœ‰ï¼Œscratchä¸­æ˜¯æ²¡æœ‰çš„â€¦â€¦</p>
<p>è‚çš„å¤ªæ™šäº†å®åœ¨æ‡’å¾—è§£å†³äº†â€¦â€¦æœ‰çŸ¥é“çš„ä»äººå¿—å£«éº»çƒ¦é‚®ç®±æˆ‘ä¸€ä¸‹è§£å†³æ–¹æ¡ˆOrzã€‚</p>
</div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Python/">Python</a><a class="link-muted mr-2" rel="tag" href="/tags/Linux/">Linux</a><a class="link-muted mr-2" rel="tag" href="/tags/Raspberry-Pi/">Raspberry Pi</a><a class="link-muted mr-2" rel="tag" href="/tags/OpenCV/">OpenCV</a></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><div class="social-share"></div><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Ÿæ‰“èµä¸€ä¸‹ä½œè€…å§</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>æ”¯ä»˜å®</span><span class="qrcode"><img src="/img/alipay.jpg" alt="æ”¯ä»˜å®"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>å¾®ä¿¡</span><span class="qrcode"><img src="/img/wechatpay.jpg" alt="å¾®ä¿¡"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2018/10/05/rbp3-pyopencv-camera/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">æ ‘è“æ´¾ä¸Šçš„æ‘„åƒå¤´ä¸OpenCV</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2018/09/25/rbp3-aws-gateway/"><span class="level-item">æ ‘è“æ´¾ä¸Šçš„ç§‘å­¦ä¸Šç½‘</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">è¯„è®º</h3><script src="https://utteranc.es/client.js" repo="zlotus/comment" issue-term="pathname" label="some-issue-label" theme="github-light" crossorigin="anonymous" async></script></div></div></div><div class="column column-left is-3-tablet is-3-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/opm_sq.png" alt="å­å®"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">å­å®</p><p class="is-size-6 is-block">ç¨‹åºå‘˜</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>é™•è¥¿/è¥¿å®‰</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ–‡ç« </p><a href="/archives"><p class="title">80</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">åˆ†ç±»</p><a href="/categories"><p class="title">4</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ ‡ç­¾</p><a href="/tags"><p class="title">23</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/zlotus" target="_blank" rel="noopener">å…³æ³¨æˆ‘</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/zlotus"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com/qinzishi"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/Zealot_uS"><i class="fab fa-twitter"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">é“¾æ¥</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://www.zhihu.com/people/zlotus" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">çŸ¥ä¹</span></span><span class="level-right"><span class="level-item tag">www.zhihu.com</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">åˆ†ç±»</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Diary/"><span class="level-start"><span class="level-item">Diary</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">66</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Shell/"><span class="level-start"><span class="level-item">Shell</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">æ ‡ç­¾</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Coroutines/"><span class="tag">Coroutines</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JavaScript/"><span class="tag">JavaScript</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Javascript/"><span class="tag">Javascript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">32</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenCV/"><span class="tag">OpenCV</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Operating-System/"><span class="tag">Operating System</span><span class="tag">21</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Paper/"><span class="tag">Paper</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">19</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Raspberry-Pi/"><span class="tag">Raspberry Pi</span><span class="tag">20</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Rust/"><span class="tag">Rust</span><span class="tag">29</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Shell/"><span class="tag">Shell</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TensorFlow/"><span class="tag">TensorFlow</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tokio/"><span class="tag">Tokio</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ZMQ/"><span class="tag">ZMQ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ctpn/"><span class="tag">ctpn</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/llama/"><span class="tag">llama</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/obsidion/"><span class="tag">obsidion</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%97%A5%E8%AE%B0/"><span class="tag">æ—¥è®°</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%9D%82%E8%B0%88/"><span class="tag">æ‚è°ˆ</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%AE%97%E6%B3%95/"><span class="tag">ç®—æ³•</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BC%96%E7%A8%8B/"><span class="tag">ç¼–ç¨‹</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%84%9A%E6%9C%AC/"><span class="tag">è„šæœ¬</span><span class="tag">4</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/opm_sq.png" alt="å­å®" height="28"></a><p class="is-size-7"><span>&copy; 2024 å­å®</span>Â Â Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><div id="outdated"><h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly.&amp;npsb;<a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">Ã—</a></p></div><script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script><script>window.addEventListener("load", function () {
            outdatedBrowser({
                bgColor: '#f25648',
                color: '#ffffff',
                lowerThan: 'object-fit' // display on IE11 or below
            });
        });</script><a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..."></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ...","untitled":"(æ— æ ‡é¢˜)","posts":"æ–‡ç« ","pages":"é¡µé¢","categories":"åˆ†ç±»","tags":"æ ‡ç­¾"});
        });</script></body></html>