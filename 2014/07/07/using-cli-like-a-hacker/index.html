<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>学习T神的《像黑客一样使用Linux命令行》 - 子实</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="子实"><meta name="msapplication-TileImage" content="/img/avatar-o.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="子实"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="转自《像黑客一样使用 Linux 命令行》"><meta property="og:type" content="article"><meta property="og:title" content="学习T神的《像黑客一样使用Linux命令行》"><meta property="og:url" content="https://zlotus.github.io/2014/07/07/using-cli-like-a-hacker/"><meta property="og:site_name" content="子实"><meta property="og:description" content="转自《像黑客一样使用 Linux 命令行》"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://zlotus.github.io/blog/images/using-cli-like-a-hacker-hist-word.png"><meta property="og:image" content="https://zlotus.github.io/blog/images/using-cli-like-a-hacker-hist.png"><meta property="article:published_time" content="2014-07-07T13:21:27.000Z"><meta property="article:modified_time" content="2014-07-07T13:21:27.000Z"><meta property="article:author" content="子实"><meta property="article:tag" content="编程"><meta property="article:tag" content="脚本"><meta property="article:tag" content="Shell"><meta property="article:tag" content="Linux"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/blog/images/using-cli-like-a-hacker-hist-word.png"><meta property="twitter:creator" content="@Zealot_uS"><meta property="twitter:site" content="Zealot_uS"><link rel="publisher" href="+LotusQin"><meta property="fb:admins" content="qinzishi"><meta property="fb:app_id" content="qinzishi"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://zlotus.github.io/2014/07/07/using-cli-like-a-hacker/"},"headline":"学习T神的《像黑客一样使用Linux命令行》","image":["https://zlotus.github.io/blog/images/using-cli-like-a-hacker-hist-word.png","https://zlotus.github.io/blog/images/using-cli-like-a-hacker-hist.png"],"datePublished":"2014-07-07T13:21:27.000Z","dateModified":"2014-07-07T13:21:27.000Z","author":{"@type":"Person","name":"子实"},"publisher":{"@type":"Organization","name":"子实","logo":{"@type":"ImageObject","url":"https://zlotus.github.io/img/opm_sq.png"}},"description":"转自《像黑客一样使用 Linux 命令行》"}</script><link rel="icon" href="/img/avatar-o.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css"><!--!--><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/opm_sq.png" alt="子实" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/2014/07/09/about-me/">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/zlotus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-9-tablet is-9-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2014-07-07T13:21:27.000Z" title="7/7/2014, 9:21:27 PM">2014-07-07</time>发表</span><span class="level-item"><time dateTime="2014-07-07T13:21:27.000Z" title="7/7/2014, 9:21:27 PM">2014-07-07</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Shell/">Shell</a></span><span class="level-item">14 分钟读完 (大约2173个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">学习T神的《像黑客一样使用Linux命令行》</h1><div class="content"><p>po主Linux/Unix奇菜无比，看到Toy大神的PPT<a href="https://linuxtoy.org/archives/using-cli-like-a-hacker.html" title="麻省理工学院公开课：算法导论" target="">《像黑客一样使用 Linux 命令行》</a>画面太美，就必须学习一下。</p>
<p>依然是用OSX冒充Linux…</p>
<p>Talk is cheap…</p>
<span id="more"></span>

<h2 id="1-有趣的历史命令统计脚本"><a href="#1-有趣的历史命令统计脚本" class="headerlink" title="1. 有趣的历史命令统计脚本"></a>1. 有趣的历史命令统计脚本</h2><p>用简单的几行命令找出shell执行过的历史命令中出镜率最高的10个：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  <span class="built_in">history</span> |</span><br><span class="line">&gt; awk <span class="string">&#x27;&#123;CMD[$2]++;count++;&#125;END \</span></span><br><span class="line"><span class="string">&gt; &#123; for (a in CMD)print CMD[a] &quot; &quot; \</span></span><br><span class="line"><span class="string">&gt; CMD[a]/count*100 &quot;% &quot; a;&#125;&#x27;</span> |</span><br><span class="line">&gt; grep -v <span class="string">&quot;./&quot;</span> |</span><br><span class="line">&gt; column -c3 -s <span class="string">&quot; &quot;</span> -t |</span><br><span class="line">&gt; sort -nr |</span><br><span class="line">&gt; nl |</span><br><span class="line">&gt; head -n10</span><br><span class="line">     1	265  10.3962%    git</span><br><span class="line">     2	258  10.1216%    ls</span><br><span class="line">     3	205  8.04237%    sudo</span><br><span class="line">     4	166  6.51236%    man</span><br><span class="line">     5	164  6.4339%     awk</span><br><span class="line">     6	118  4.62927%    vi</span><br><span class="line">     7	92   3.60926%    <span class="built_in">cd</span></span><br><span class="line">     8	80   3.13849%    port</span><br><span class="line">     9	76   2.98156%    cat</span><br><span class="line">    10	73   2.86387%    ps</span><br></pre></td></tr></table></figure>

<ul>
<li><code>history</code>其实是<code>fc -l 1</code>的别名，而<code>fc</code>命令可以用来<strong>列出</strong>、<strong>编辑</strong>、<strong>重新执行</strong>用户过去向Shell中输入的内容；</li>
<li>再用<code>awk</code>过滤并统计<code>history</code>的结果：取history返回值的第二列（命令名称），存入名为<em>CMD</em>的映射并累加重复的命令，<em>count</em>负责统计总命令数，统计结束后按行输出&lt;命令执行的次数、占总命令数的百分比、该命令的名称&gt;；</li>
<li>再用<code>grep -v</code>去除那些带有<code>&#39;/&#39;</code>的目录跳转（使用<code>grep -vE &quot;./| \.&quot;</code>对po主有奇效，因为po主有时会使用类似<code>.ssh</code>的不规范写法进入一个目录）；</li>
<li>再用<code>column</code>命令造一个漂亮的表格；</li>
<li>再用<code>sort</code>命令排序取逆；</li>
<li>再用<code>nl</code>命令给结果加上序号；</li>
<li>再用<code>head</code>命令取TOP10；</li>
</ul>
<p>于是就漂亮的统计出了我的历史记录使用结果（看到<code>man</code>和<code>sudo</code>的排名就知道应该是个noob）。</p>
<h2 id="2-有用的执行的命令的修改"><a href="#2-有用的执行的命令的修改" class="headerlink" title="2. 有用的执行的命令的修改"></a>2. 有用的执行的命令的修改</h2><p>po主因为noob，不熟悉系统，经常在输入命令的时候出现typo…这也是没办法的事，如果重新键入，或是把历史记录掉出来再移动光标至输入错误处修改，就太麻烦了，还好shell可以帮我：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 一删</span></span><br><span class="line">➜  ~  finder ~ -iname <span class="string">&quot;using-cli-like-a-hacker.md&quot;</span></span><br><span class="line">zsh: <span class="built_in">command</span> not found: finder</span><br><span class="line">➜  ~  ^er</span><br><span class="line">➜  ~  find ~ -iname <span class="string">&quot;using-cli-like-a-hacker.md&quot;</span></span><br><span class="line">/Users/zealot/blog/<span class="built_in">source</span>/_posts/using-cli-like-a-hacker.md</span><br><span class="line"><span class="comment"># 二改</span></span><br><span class="line">➜  ~  <span class="built_in">echo</span> <span class="string">&quot;the ordre is incorrect&quot;</span></span><br><span class="line">the ordre is incorrect</span><br><span class="line">➜  ~  ^re^er</span><br><span class="line">➜  ~  <span class="built_in">echo</span> <span class="string">&quot;the order is incorrect&quot;</span></span><br><span class="line">the order is incorrect</span><br><span class="line">➜  ~  <span class="built_in">echo</span> <span class="string">&quot;there is a typo&quot;</span></span><br><span class="line">there is a typo</span><br><span class="line">➜  ~  ^a^no</span><br><span class="line">➜  ~  <span class="built_in">echo</span> <span class="string">&quot;there is no typo&quot;</span></span><br><span class="line">there is no typo</span><br><span class="line"><span class="comment"># 三全换</span></span><br><span class="line">➜  ~  ln /opt/<span class="built_in">local</span>/bin/hub /usr/bin/hub</span><br><span class="line">ln: /opt/<span class="built_in">local</span>/bin/hub: No such file or directory</span><br><span class="line">➜  ~  ^hub^git^:G <span class="comment"># zsh</span></span><br><span class="line"><span class="comment"># 或!:gs/hub/git</span></span><br><span class="line">➜  ~  ln /opt/<span class="built_in">local</span>/bin/git /usr/bin/git</span><br></pre></td></tr></table></figure>

<p>Toy神的口诀是：</p>
<ul>
<li>一删（<code>^er</code>）</li>
<li>二改（<code>^a^no</code>）</li>
<li>三全换（<code>^hub^git^:G</code>或<code>!:gs/hub/git</code>）</li>
</ul>
<h2 id="3-深入了解命令历史"><a href="#3-深入了解命令历史" class="headerlink" title="3. 深入了解命令历史"></a>3. 深入了解命令历史</h2><h3 id="3-1-历史记录属性："><a href="#3-1-历史记录属性：" class="headerlink" title="3.1 历史记录属性："></a>3.1 历史记录属性：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 历史记录的大小</span></span><br><span class="line">➜  ~  <span class="built_in">echo</span> <span class="variable">$HISTSIZE</span></span><br><span class="line">10000</span><br><span class="line"><span class="comment"># 历史记录保存的位置</span></span><br><span class="line">➜  ~  <span class="built_in">echo</span> <span class="variable">$HISTFILE</span></span><br><span class="line">/Users/zealot/.zsh_history</span><br><span class="line"><span class="comment"># bash</span></span><br><span class="line">➜  ~  <span class="built_in">echo</span> <span class="variable">$HISTFILESIZE</span></span><br><span class="line">10000</span><br><span class="line"><span class="comment"># zsh</span></span><br><span class="line">➜  ~  <span class="built_in">echo</span> <span class="variable">$SAVEHIST</span></span><br><span class="line">10000</span><br></pre></td></tr></table></figure>

<h3 id="3-2-查看历史记录："><a href="#3-2-查看历史记录：" class="headerlink" title="3.2 查看历史记录："></a>3.2 查看历史记录：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  <span class="built_in">history</span> | less</span><br><span class="line"><span class="comment"># 显示前五条</span></span><br><span class="line">➜  ~  <span class="built_in">history</span> 5</span><br><span class="line"><span class="comment"># 在历史记录中查找</span></span><br><span class="line"><span class="built_in">history</span> | grep string</span><br></pre></td></tr></table></figure>

<ul>
<li>按下[ctrl-R]，进入逆向搜索历史模式：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  <span class="built_in">history</span> | less</span><br><span class="line">bck-i-search: <span class="built_in">history</span> |</span><br></pre></td></tr></table></figure>

<ul>
<li>按下[ctrl+P]访问前一条命令</li>
<li>按下[ctrl+N]访问下一条命令</li>
</ul>
<h3 id="3-3-关于-的历史引用"><a href="#3-3-关于-的历史引用" class="headerlink" title="3.3 关于!的历史引用"></a>3.3 关于<code>!</code>的历史引用</h3><ul>
<li>使用<code>!!</code>执行上一条命令：</li>
</ul>
<p>这个很常用，特别是在没有权限的时候配合<code>sudo</code>使用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  port -v selfupdate</span><br><span class="line">...</span><br><span class="line">failed: Permission denied</span><br><span class="line">...</span><br><span class="line">➜  ~  sudo !!</span><br><span class="line">➜  ~  sudo port -v selfupdate</span><br><span class="line">Password:</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<ul>
<li>使用<code>!foo</code>执行以<em>foo</em>开头的命令：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  !port</span><br><span class="line">➜  ~  port outdated</span><br></pre></td></tr></table></figure>

<ul>
<li>使用<code>!?foo</code>执行包含<em>foo</em>的命令：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  !?out</span><br><span class="line">➜  ~  port outdated</span><br></pre></td></tr></table></figure>

<ul>
<li>使用<code>!n</code>执行历史记录中第<em>n</em>个命令（可能会很早）：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  !9</span><br><span class="line">➜  ~  <span class="built_in">pwd</span></span><br></pre></td></tr></table></figure>

<ul>
<li>使用<code>!-n</code>执行倒数第<em>n</em>个命令（比较常用）：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  !-9</span><br><span class="line">➜  ~  <span class="built_in">echo</span> <span class="variable">$HISTSIZE</span></span><br></pre></td></tr></table></figure>

<p>注：<code>!-1</code> == <code>!!</code>。</p>
<ul>
<li>使用<code>!#</code>引用当前行</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  <span class="built_in">echo</span> !<span class="comment">#</span></span><br><span class="line">➜  ~  <span class="built_in">echo</span> <span class="built_in">echo</span></span><br></pre></td></tr></table></figure>

<h3 id="3-4-历史命令的Word选取"><a href="#3-4-历史命令的Word选取" class="headerlink" title="3.4 历史命令的Word选取"></a>3.4 历史命令的Word选取</h3><p><img src="/blog/images/using-cli-like-a-hacker-hist-word.png" alt="历史命令Word选取图" title="历史命令的参数选取"></p>
<ul>
<li>使用<code>!$</code>得到上一条命令的最后一个参数：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  mkdir videos</span><br><span class="line">➜  ~  <span class="built_in">cd</span> !$</span><br><span class="line">➜  ~  <span class="built_in">cd</span> videos</span><br><span class="line">➜  videos</span><br></pre></td></tr></table></figure>

<p>也可以通过快捷键[alt+.]获得。</p>
<p>注：OSX上需要设置在Terminal-&gt;Terminal-&gt;Preferences-&gt;Settings-&gt;Keyboard中设置“Use option as meta key”，在iTerm上通常设置“left option key as +Esc”。</p>
<ul>
<li>使用<code>!^</code>得到上一条命令的第一个参数：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  ls /usr/share/doc /usr/share/man</span><br><span class="line">/usr/share/doc:</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">/usr/share/man:</span><br><span class="line">...</span><br><span class="line">➜  ~  <span class="built_in">cd</span> !^</span><br><span class="line">➜  ~  <span class="built_in">cd</span> /usr/share/doc</span><br><span class="line">➜  doc</span><br></pre></td></tr></table></figure>

<p>也可以通过快捷键[Ctrl+Alt+Y]获得。（OSX上似乎不行…求指点）</p>
<p>* 使用<code>!:n</code>得到上一条命令第n个参数：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  touch foo.txt bar.txt baz.txt</span><br><span class="line">➜  ~  vim !:2</span><br><span class="line">➜  ~  vim bar.txt</span><br></pre></td></tr></table></figure>

<ul>
<li>使用<code>!:x-y</code>得到上一条命令从第x到第y的参数：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  touch foo.txt bar.txt baz.txt</span><br><span class="line">➜  ~  rm !:1-3</span><br><span class="line">➜  ~  rm foo.txt bar.txt baz.txt</span><br></pre></td></tr></table></figure>

<ul>
<li>使用<code>!:n*</code>得到上一条命令中从第n个参数开始到最后的参数：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  cat /etc/resolv.conf /etc/hosts /etc/hostname</span><br><span class="line">➜  ~  vim !:2*</span><br><span class="line">➜  ~  vim /etc/hosts /etc/hostname</span><br></pre></td></tr></table></figure>

<ul>
<li>使用<code>!*</code>得到上一条命令的所有参数：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  ls src dst</span><br><span class="line">➜  ~  cp -r !*</span><br><span class="line">➜  ~  cp -r src dst</span><br></pre></td></tr></table></figure>

<p>关于Word选取，需要记住的是：</p>
<ul>
<li><code>n</code>：第n个参数；</li>
<li><code>^|$</code>：第一个参数|最后一个参数；</li>
<li><code>n*</code>：从第n个参数开始取到最后的参数；</li>
<li><code>x-y</code>：从第x个参数开始取到第y个参数；</li>
</ul>
<h3 id="3-5-历史命令的修饰符"><a href="#3-5-历史命令的修饰符" class="headerlink" title="3.5 历史命令的修饰符"></a>3.5 历史命令的修饰符</h3><ul>
<li>使用<code>:h</code>选取路径的开头部分：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  ls /usr/share/doc/bash/bash.html</span><br><span class="line">/usr/share/doc/bash/bash.html</span><br><span class="line">➜  ~  ls !$:h</span><br><span class="line">➜  ~  ls /usr/share/doc/bash</span><br></pre></td></tr></table></figure>

<p>相当于使用<code>dirname</code>命令。</p>
<ul>
<li>使用<code>:t</code>选取路径的结尾部分：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  wget http://nginx.org/download/nginx-1.7.2.tar.gz</span><br><span class="line">...</span><br><span class="line">➜  ~  tar zxvf !$:t</span><br><span class="line">➜  ~  tar zxvf nginx-1.7.2.tar.gz</span><br></pre></td></tr></table></figure>

<p>相当于使用<code>basename</code>命令。</p>
<ul>
<li>使用<code>:r</code>选取文件名：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  wget http://nginx.org/download/nginx-1.7.2.zip</span><br><span class="line">...</span><br><span class="line">➜  ~  unzip nginx-1.7.2.zip</span><br><span class="line">...</span><br><span class="line">➜  ~  <span class="built_in">cd</span> !$:r</span><br><span class="line">➜  ~  <span class="built_in">cd</span> nginx-1.7.2</span><br></pre></td></tr></table></figure>

<ul>
<li>使用<code>:e</code>选取扩展名：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  <span class="built_in">echo</span> filname.extension</span><br><span class="line">filname.extension</span><br><span class="line">➜  ~  <span class="built_in">echo</span> !$:e</span><br><span class="line">➜  ~  <span class="built_in">echo</span> extension</span><br><span class="line"><span class="comment">#bash</span></span><br><span class="line">.extension</span><br><span class="line"><span class="comment"># zsh</span></span><br><span class="line">extension</span><br></pre></td></tr></table></figure>

<ul>
<li>使用<code>!:p</code>打印命令：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  <span class="built_in">echo</span> *</span><br><span class="line">...</span><br><span class="line">➜  ~  !:p</span><br><span class="line">➜  ~  <span class="built_in">echo</span> *</span><br></pre></td></tr></table></figure>

<ul>
<li>使用<code>:s</code>做替换：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  <span class="built_in">echo</span> this that</span><br><span class="line">this that</span><br><span class="line">➜  ~  !:s/is/e</span><br><span class="line">➜  ~  <span class="built_in">echo</span> the that</span><br></pre></td></tr></table></figure>

<ul>
<li><p>也就是前面提到的“二改”：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  <span class="built_in">echo</span> this that</span><br><span class="line">this that</span><br><span class="line">➜  ~  ^is^e</span><br><span class="line">➜  ~  <span class="built_in">echo</span> the that</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li>使用<code>:g</code>做全局操作：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  <span class="built_in">echo</span> abcd abef</span><br><span class="line">abcd abef</span><br><span class="line">➜  ~  !:gs/ab/<span class="built_in">cd</span></span><br><span class="line">➜  ~  <span class="built_in">echo</span> cdcd cdef</span><br></pre></td></tr></table></figure>

<ul>
<li><p>也就是前面提到的“三全换”：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  <span class="built_in">echo</span> abcd abef</span><br><span class="line">abcd abef</span><br><span class="line">➜  ~  ^ab^<span class="built_in">cd</span>^:G</span><br><span class="line">➜  ~  <span class="built_in">echo</span> cdcd cdef</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li>使用<code>:u</code>将命令改为大写（zsh）：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  <span class="built_in">echo</span> <span class="variable">$histfile</span></span><br><span class="line"></span><br><span class="line">➜  ~  <span class="built_in">echo</span> !$:u</span><br><span class="line">➜  ~  <span class="built_in">echo</span> <span class="variable">$HISTFILE</span></span><br><span class="line">/Users/zealot/.zsh_history</span><br></pre></td></tr></table></figure>

<ul>
<li>使用<code>:l</code>将命令该为小写（zsh）：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  <span class="built_in">echo</span> <span class="variable">$HISTORY</span></span><br><span class="line"></span><br><span class="line">➜  ~  <span class="built_in">echo</span> !$:l</span><br><span class="line">➜  ~  <span class="built_in">echo</span> <span class="variable">$history</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>关于修饰符，要记住的是：</p>
<ul>
<li><code>h|t</code>：选取路径的开头|结尾；</li>
<li><code>r|e</code>：选取文件名|扩展名；</li>
<li><code>p</code>：打印命令；</li>
<li><code>s</code>：替换操作；</li>
<li><code>g</code>：全局操作；</li>
<li><code>u|l</code>：将参数改为大写|小写；</li>
</ul>
<p>综上：</p>
<p><img src="/blog/images/using-cli-like-a-hacker-hist.png" alt="历史命令结构展开图" title="历史展开模式"></p>
<h2 id="4-常备锦囊，内藏妙计"><a href="#4-常备锦囊，内藏妙计" class="headerlink" title="4. 常备锦囊，内藏妙计"></a>4. 常备锦囊，内藏妙计</h2><ul>
<li>使用<code>alias -s</code>定义后缀别名（zsh）：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  <span class="built_in">alias</span> -s py=python3</span><br><span class="line">➜  ~  test.py</span><br><span class="line">python3 test.py</span><br></pre></td></tr></table></figure>

<ul>
<li>使用 {} 构造字符串：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  cp grade.txt&#123;,.bak&#125;</span><br><span class="line">➜  ~  cp grade.txt grade.txt.bak</span><br><span class="line">➜  ~</span><br><span class="line">➜  ~  vim &#123;a,b,c&#125;file.c</span><br><span class="line">➜  ~  vim afile.c bfile.c cfile.c</span><br><span class="line">➜  ~</span><br><span class="line">➜  ~  wget http://linuxtoy.org/img/&#123;1..5&#125;.jpg </span><br><span class="line">1.jpg  2.jpg  3.jpg  4.jpg  5.jpg</span><br><span class="line">➜  ~</span><br><span class="line">➜  ~  <span class="built_in">echo</span> &#123;01..5&#125;.txt</span><br><span class="line">01.txt 02.txt 03.txt 04.txt 05.txt</span><br><span class="line">➜  ~</span><br><span class="line">➜  ~  <span class="built_in">echo</span> 0&#123;1..5&#125;.txt</span><br><span class="line">01.txt 02.txt 03.txt 04.txt 05.txt</span><br><span class="line">➜  ~</span><br><span class="line">➜  ~  <span class="built_in">echo</span> &#123;1..10..2&#125;.txt</span><br><span class="line">1.txt 3.txt 5.txt 7.txt 9.txt</span><br><span class="line">➜  ~</span><br><span class="line">➜  ~  <span class="built_in">echo</span> &#123;1..10..-2&#125;.txt</span><br><span class="line">9.txt 7.txt 5.txt 3.txt 1.txt</span><br><span class="line">➜  ~</span><br><span class="line">➜  ~  <span class="built_in">echo</span> &#123;9..1..-2&#125;.txt</span><br><span class="line">1.txt 3.txt 5.txt 7.txt 9.txt</span><br><span class="line">➜  ~</span><br><span class="line">➜  ~  mkdir -p 2014/&#123;01..12&#125;/&#123;baby,photo&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>使用``或<code>$()</code>做命令替换：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  <span class="built_in">echo</span> $(date +<span class="string">&#x27;%Y%m%d&#x27;</span>)</span><br><span class="line">20140707</span><br><span class="line">➜  ~  <span class="built_in">echo</span> `date +<span class="string">&#x27;%Y%m%d&#x27;</span>`</span><br><span class="line">20140707</span><br></pre></td></tr></table></figure>

<ul>
<li>使用变量保存信息：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  LOG=/var/<span class="built_in">log</span>/emerge.log</span><br><span class="line">➜  ~  head <span class="variable">$LOG</span></span><br><span class="line">➜  ~  grep -i compiling <span class="variable">$LOG</span></span><br></pre></td></tr></table></figure>

<ul>
<li>使用 for … in 重复执行命令：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  figlet -f font-type-1 Linux <span class="comment"># (1)</span></span><br><span class="line">➜  ~  figlet -f font-type-2 Linux <span class="comment"># (2)</span></span><br><span class="line">➜  ~  figlet -f font-type-3 Linux <span class="comment"># (3)</span></span><br><span class="line">➜  ~  ...</span><br><span class="line">➜  ~</span><br><span class="line">➜  ~  <span class="built_in">cd</span> /usr/share/figlet</span><br><span class="line">➜  ~  <span class="keyword">for</span> font <span class="keyword">in</span> *.flf</span><br><span class="line"><span class="keyword">for</span>&gt; <span class="keyword">do</span></span><br><span class="line"><span class="keyword">for</span>&gt;   <span class="built_in">echo</span> <span class="variable">$font</span></span><br><span class="line"><span class="keyword">for</span>&gt;   figlet -f <span class="variable">$font</span> Linux</span><br><span class="line"><span class="keyword">for</span>&gt; <span class="keyword">done</span></span><br><span class="line">...</span><br><span class="line">➜  ~  <span class="keyword">for</span> font <span class="keyword">in</span> *.flf; <span class="keyword">do</span> <span class="built_in">echo</span> <span class="variable">$font</span>; figlet -f <span class="variable">$font</span> Linux; <span class="keyword">done</span></span><br><span class="line">➜  ~</span><br><span class="line">➜  ~  <span class="keyword">for</span> dev <span class="keyword">in</span> /dev/sd&#123;a..d&#125;</span><br><span class="line"><span class="keyword">for</span>&gt; <span class="keyword">do</span></span><br><span class="line"><span class="keyword">for</span>&gt;   hdparm -t <span class="variable">$dev</span></span><br><span class="line"><span class="keyword">for</span>&gt; <span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h2 id="5-其他"><a href="#5-其他" class="headerlink" title="5. 其他"></a>5. 其他</h2><h3 id="5-1-重要原则"><a href="#5-1-重要原则" class="headerlink" title="5.1 重要原则"></a>5.1 重要原则</h3><ul>
<li>Type less, accomplish more (少打多做)；</li>
<li>DRY, don’t repeat yourself (不要重复你自己)；</li>
<li>Care about your tool (关心你的工具)；</li>
</ul>
<h3 id="5-2-此外…"><a href="#5-2-此外…" class="headerlink" title="5.2. 此外…"></a>5.2. 此外…</h3><ul>
<li><code>Tab</code>补全；</li>
<li>使用通配符 (<code>*</code>, <code>?</code>, <code>[a-z]</code>, <code>[0-9]</code>)；</li>
<li>用快捷键编辑命令行；</li>
<li>字符串处理；</li>
<li>复合命令 (<code>;</code>, <code>&amp;&amp;</code>, <code>||</code>)；</li>
</ul>
<h3 id="5-3-扩展阅读："><a href="#5-3-扩展阅读：" class="headerlink" title="5.3 扩展阅读："></a>5.3 扩展阅读：</h3><ul>
<li>bash: man history</li>
<li>zsh: man zshexpn</li>
<li><a target="_blank" rel="noopener" href="https://www.gnu.org/software/bash/manual/html_node/index.html">Bash Reference Manual</a></li>
<li><a target="_blank" rel="noopener" href="http://zsh.sourceforge.net/Guide/zshguide.html">A User’s Guide to ZSH</a></li>
<li>Book: Unix Power Tools</li>
</ul>
<p>ps: 关于<code>awk</code>, <code>sed</code>, <code>grep</code>等复杂命令，以后再详解。</p>
<p>-EOF-</p>
</div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/%E7%BC%96%E7%A8%8B/">编程</a><a class="link-muted mr-2" rel="tag" href="/tags/%E8%84%9A%E6%9C%AC/">脚本</a><a class="link-muted mr-2" rel="tag" href="/tags/Shell/">Shell</a><a class="link-muted mr-2" rel="tag" href="/tags/Linux/">Linux</a></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><div class="social-share"></div><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/alipay.jpg" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/wechatpay.jpg" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2014/07/09/about-me/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">关于我</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2014/07/05/using-python-download-163-opencourse/"><span class="level-item">下载网易公开课的Python脚本</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><script src="https://utteranc.es/client.js" repo="zlotus/comment" issue-term="pathname" label="some-issue-label" theme="github-light" crossorigin="anonymous" async></script></div></div></div><div class="column column-left is-3-tablet is-3-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/opm_sq.png" alt="子实"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">子实</p><p class="is-size-6 is-block">程序员</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>陕西/西安</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">81</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">4</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">23</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/zlotus" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/zlotus"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com/qinzishi"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/Zealot_uS"><i class="fab fa-twitter"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://www.zhihu.com/people/zlotus" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">知乎</span></span><span class="level-right"><span class="level-item tag">www.zhihu.com</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Diary/"><span class="level-start"><span class="level-item">Diary</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">67</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Shell/"><span class="level-start"><span class="level-item">Shell</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Coroutines/"><span class="tag">Coroutines</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JavaScript/"><span class="tag">JavaScript</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Javascript/"><span class="tag">Javascript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">33</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenCV/"><span class="tag">OpenCV</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Operating-System/"><span class="tag">Operating System</span><span class="tag">21</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Paper/"><span class="tag">Paper</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">20</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Raspberry-Pi/"><span class="tag">Raspberry Pi</span><span class="tag">20</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Rust/"><span class="tag">Rust</span><span class="tag">29</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Shell/"><span class="tag">Shell</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TensorFlow/"><span class="tag">TensorFlow</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tokio/"><span class="tag">Tokio</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ZMQ/"><span class="tag">ZMQ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ctpn/"><span class="tag">ctpn</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/llama/"><span class="tag">llama</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/obsidion/"><span class="tag">obsidion</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%97%A5%E8%AE%B0/"><span class="tag">日记</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%9D%82%E8%B0%88/"><span class="tag">杂谈</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%AE%97%E6%B3%95/"><span class="tag">算法</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BC%96%E7%A8%8B/"><span class="tag">编程</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%84%9A%E6%9C%AC/"><span class="tag">脚本</span><span class="tag">4</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/opm_sq.png" alt="子实" height="28"></a><p class="is-size-7"><span>&copy; 2024 子实</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><div id="outdated"><h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly.&amp;npsb;<a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">×</a></p></div><script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script><script>window.addEventListener("load", function () {
            outdatedBrowser({
                bgColor: '#f25648',
                color: '#ffffff',
                lowerThan: 'object-fit' // display on IE11 or below
            });
        });</script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>